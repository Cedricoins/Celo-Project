ğŸš€ Template dâ€™architecture : Next.js + Hardhat (Solidity) + Celo
/project-root
â”‚
â”œâ”€â”€ /contracts
â”‚   â”œâ”€â”€ MyContract.sol
â”‚   â”œâ”€â”€ ... autres contrats
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ /scripts
â”‚   â”œâ”€â”€ deploy.js
â”‚   â”œâ”€â”€ verify.js
â”‚   â””â”€â”€ interact.js
â”‚
â”œâ”€â”€ /test
â”‚   â”œâ”€â”€ MyContract.test.js
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ /frontend   (â†’ App Next.js, dÃ©ployÃ©e sur Vercel)
â”‚   â”œâ”€â”€ /app
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ /components
â”‚   â”‚   â”œâ”€â”€ WalletConnect.tsx
â”‚   â”‚   â”œâ”€â”€ ContractUI.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ /hooks
â”‚   â”‚   â”œâ”€â”€ useCeloWallet.ts
â”‚   â”‚   â”œâ”€â”€ useContract.ts
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ /lib
â”‚   â”‚   â”œâ”€â”€ celo-config.ts
â”‚   â”‚   â”œâ”€â”€ contract-address.ts
â”‚   â”‚   â””â”€â”€ contract-abi.json
â”‚   â”‚
â”‚   â”œâ”€â”€ /public
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ hardhat.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ .env           (clÃ© privÃ©e pour dÃ©ploiement Celo)
â”œâ”€â”€ .env.local     (config front)
â””â”€â”€ README.md

ğŸ§© Explication des dossiers
ğŸ“ /contracts

Tes smart contracts Solidity pour Celo.

Exemple :

// SPDX-License-Identifier: MIT
pragma solidity ^0.8.19;

contract MyContract {
    uint public value;
    function setValue(uint _v) public {
        value = _v;
    }
}

ğŸ“ /scripts

Scripts Hardhat pour dÃ©ployer et interagir avec Celo.

Exemple deploy.js :

async function main() {
  const Contract = await ethers.getContractFactory("MyContract");
  const contract = await Contract.deploy();
  await contract.waitForDeployment();
  console.log("Deployed at:", await contract.getAddress());
}
main();

ğŸ“ /frontend (Next.js 14 / App Router)
/components/

Composants UI (wallet, boutons, formulairesâ€¦).

/hooks/

Logique web3 (connection Ã  Celo, appel des contrats).

/lib/

celo-config.ts : RPC, chainId, providers

contract-abi.json : ABI exportÃ©e

contract-address.ts : adresse dÃ©ployÃ©e

ğŸ”§ Exemple de configuration pour Celo (hardhat.config.js)
require("@nomicfoundation/hardhat-toolbox");
require("dotenv").config();

module.exports = {
  solidity: "0.8.19",
  networks: {
    celo: {
      url: "https://forno.celo.org",
      accounts: [process.env.PRIVATE_KEY],
    },
    celo_alfajores: {
      url: "https://alfajores-forno.celo-testnet.org",
      accounts: [process.env.PRIVATE_KEY],
    },
  },
};

ğŸŒ Connexion Celo dans Next.js (wagmi + celo plugin)

useCeloWallet.ts :

import { createConfig, celo, celoAlfajores } from "@celo/rainbowkit-celo";
import { WagmiConfig } from "wagmi";

export const wagmiConfig = createConfig({
  chains: [celo, celoAlfajores],
});

ğŸš€ DÃ©ploiement sur Vercel
Dans frontend/.env.local
NEXT_PUBLIC_CONTRACT_ADDRESS=0x....
NEXT_PUBLIC_CELO_RPC=https://forno.celo.org

Build Vercel

Vercel dÃ©ploie automatiquement ton frontend.
Aucun besoin de builder le dossier Solidity.

ğŸ¯ Workflow complet
1ï¸âƒ£ coder smart contracts
2ï¸âƒ£ tester (hardhat test)
3ï¸âƒ£ deploy sur Celo â†’ scripts/deploy.js
4ï¸âƒ£ copier lâ€™adresse + ABI dans frontend/lib
5ï¸âƒ£ dev Next.js
6ï¸âƒ£ push â†’ Vercel build & deploy
